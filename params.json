{"name":"Ua-modelcompiler","tagline":"ModelCompiler converts Nodeset files into C#/Java/ANSIC","body":"### Model Compiler ###\r\nThe [OPC Foundation](https://opcfoundation.org) _Model Compiler_ will generate _C#_ and _ANSI C_ source code from XML files which include the UA Services, data-types, error codes, etc.; and numerous CSV files that contain _NodeIds, error codes,_ and _attributes_ etc.\r\n\r\n## Example Generation ##\r\nThe following process will demonstrate how to generate code using the supplied nodeset files:\r\n1. Clone the repository and then build the source in Visual Studio 2015, in Release mode.\r\n2. Open a Command prompt and then launch the `BuildStandardTypes.bat`\r\n3. After the script completes, navigate to the `.\\Published` folder to view the output.\r\n4. Optionally, modify the BAT file and specify the location of your UA Stack(s) to automatically copy the generated files.\r\n\r\n## XML Files ##\r\n### UA Services example ###\r\nAn excerpt of the Core Services.xml file is shown below:\r\n```\r\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\r\n<opc:TypeDictionary\r\n  xmlns:s0=\"http://opcfoundation.org/UA/BuiltInTypes/\"\r\n  xmlns:s1=\"http://opcfoundation.org/UA/Core/DataTypes/\"\r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xmlns:opc=\"http://opcfoundation.org/UA/TypeDictionary/\"\r\n  xmlns=\"http://opcfoundation.org/UA/Core/\"\r\n  TargetNamespace=\"http://opcfoundation.org/UA/Core/\"\r\n>\r\n  <opc:Import Namespace=\"http://opcfoundation.org/UA/BuiltInTypes/\" />\r\n  <opc:ServiceType Name=\"Read\">\r\n    <opc:Request>\r\n      <opc:Parameter Name=\"RequestHeader\" DataType=\"RequestHeader\" />\r\n      <opc:Parameter Name=\"MaxAge\" DataType=\"Duration\" />\r\n      <opc:Parameter Name=\"TimestampsToReturn\" DataType=\"TimestampsToReturn\" />\r\n      <opc:Parameter Name=\"NodesToRead\" DataType=\"ReadValueId\" ValueRank=\"0\" />\r\n    </opc:Request>\r\n    <opc:Response>\r\n      <opc:Parameter Name=\"ResponseHeader\" DataType=\"ResponseHeader\" />\r\n      <opc:Parameter Name=\"Results\" DataType=\"s0:DataValue\" ValueRank=\"0\" />\r\n      <opc:Parameter Name=\"DiagnosticInfos\" DataType=\"s0:DiagnosticInfo\" ValueRank=\"0\" />\r\n    </opc:Response>\r\n  </opc:ServiceType>\r\n```\r\n\r\n### Standard Data Types example ###\r\nNodeset files are defined in [UA Specifications Part 6](https://opcfoundation.org/developer-tools/specifications-unified-architecture/part-6-mappings/). An excerpt of the _standard types_ nodeset is shown here:\r\n```\r\n?xml version=\"1.0\" encoding=\"utf-8\" ?>\r\n<opc:ModelDesign\r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\r\n  xmlns:opc=\"http://opcfoundation.org/UA/ModelDesign.xsd\"\r\n  xmlns:ua=\"http://opcfoundation.org/UA/\"\r\n  xmlns=\"http://opcfoundation.org/UA/\"\r\n  xmlns:uax=\"http://opcfoundation.org/UA/2008/02/Types.xsd\"\r\n  TargetNamespace=\"http://opcfoundation.org/UA/\"\r\n  TargetNamespaceVersion=\"1.02\"\r\n>\r\n  <opc:Namespaces>\r\n    <opc:Namespace Name=\"OpcUa\" Prefix=\"Opc.Ua\" InternalPrefix=\"Opc.Ua.Server\" XmlNamespace=\"http://opcfoundation.org/UA/2008/02/Types.xsd\">http://opcfoundation.org/UA/</opc:Namespace>\r\n  </opc:Namespaces>\r\n\r\n  <opc:Property SymbolicName=\"NodeVersion\" DataType=\"ua:String\" PartNo=\"3\">\r\n    <opc:Description>The version number of the node (used to indicate changes to references of the owning node).</opc:Description>\r\n  </opc:Property>\r\n\r\n  <opc:Property SymbolicName=\"ViewVersion\" DataType=\"ua:UInt32\" PartNo=\"3\">\r\n    <opc:Description>The version number of the view.</opc:Description>\r\n  </opc:Property>\r\n```\r\n### Status Codes example ###\r\nThe following excerpt is of the Statuscodes:\r\n```\r\nBad_UnexpectedError,1\r\nBad_InternalError,2\r\nBad_OutOfMemory,3\r\nBad_ResourceUnavailable,4\r\nBad_CommunicationError,5\r\nBad_EncodingError,6\r\nBad_DecodingError,7\r\nBad_EncodingLimitsExceeded,8\r\nBad_UnknownResponse,9\r\nBad_Timeout,10\r\n```\r\n\r\n## Example Code Generation Output ##\r\nThe following are just snippets that demonstrate the output of the model compiler for different languages:\r\n### C# ###\r\n```\r\nusing System;\r\nusing System.Collections.Generic;\r\n\r\nnamespace Opc.Ua\r\n{\r\n    #region ISessionServer Interface\r\n    /// <summary>\r\n    /// An interface to a UA server implementation.\r\n    /// </summary>\r\n    /// <exclude />\r\n    [System.CodeDom.Compiler.GeneratedCodeAttribute(\"Opc.Ua.CodeGenerator\", \"1.0.0.0\")]\r\n    public interface ISessionServer : IServerBase\r\n    {\r\n        #if (!OPCUA_EXCLUDE_FindServers)\r\n        /// <summary>\r\n        /// Invokes the FindServers service.\r\n        /// </summary>\r\n        ResponseHeader FindServers(\r\n            RequestHeader                        requestHeader,\r\n            string                               endpointUrl,\r\n            StringCollection                     localeIds,\r\n            StringCollection                     serverUris,\r\n            out ApplicationDescriptionCollection servers);\r\n        #endif\r\n```\r\n### ANSI C ###\r\n```\r\n#ifndef _OpcUa_ServerApi_H_\r\n#define _OpcUa_ServerApi_H_ 1\r\n#ifdef OPCUA_HAVE_SERVERAPI\r\n\r\n#include <opcua_types.h>\r\n#include <opcua_endpoint.h>\r\n\r\nOPCUA_BEGIN_EXTERN_C\r\n\r\n#ifndef OPCUA_EXCLUDE_FindServers\r\n/*============================================================================\r\n * Synchronously calls the FindServers service.\r\n *===========================================================================*/\r\nOpcUa_StatusCode OpcUa_ServerApi_FindServers(\r\n    OpcUa_Endpoint                 hEndpoint,\r\n    OpcUa_Handle                   hContext,\r\n    const OpcUa_RequestHeader*     pRequestHeader,\r\n    const OpcUa_String*            pEndpointUrl,\r\n    OpcUa_Int32                    nNoOfLocaleIds,\r\n    const OpcUa_String*            pLocaleIds,\r\n    OpcUa_Int32                    nNoOfServerUris,\r\n    const OpcUa_String*            pServerUris,\r\n    OpcUa_ResponseHeader*          pResponseHeader,\r\n    OpcUa_Int32*                   pNoOfServers,\r\n    OpcUa_ApplicationDescription** pServers);\r\n```\r\n\r\n## Other Repositories ##\r\nThis ModelCompiler is used to generate the content of the [Nodeset GitHub repository](https://github.com/OPCFoundation/UA-Nodeset).","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}